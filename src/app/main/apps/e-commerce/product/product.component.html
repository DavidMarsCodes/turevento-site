<div id="product" class="page-layout simple fullwidth" fxLayout="column">

    <!-- HEADER -->
    <div class="header accent accent-btn" fxLayout="row" fxLayoutAlign="space-between center">

        <!-- APP TITLE -->
        <div fxLayout="row" fxLayoutAlign="start center">

            <button mat-icon-button class="mr-0 mr-sm-16" [routerLink]="'/apps/e-commerce/products'">
                <mat-icon>arrow_back</mat-icon>
            </button>

            <div class="product-image-icon mr-8 mr-sm-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
                <img *ngIf="product.images[0]" [src]="product.images[0].url">
                <img *ngIf="!product.images[0]" [src]="'assets/images/add_event_white.png'">
            </div>

            <div fxLayout="column" fxLayoutAlign="start start"
                [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                <div class="h2" *ngIf="pageType ==='edit'">
                    {{product.name}}
                </div>
                <div class="h2" *ngIf="pageType ==='new'">
                    Nuevo Evento
                </div>
                <div class="subtitle secondary-text">
                    <span>Evento Detalle</span>
                </div>
            </div>
        </div>
        <!-- / APP TITLE -->

        <button mat-raised-button class="save-product-button" [disabled]="productForm.invalid" *ngIf="pageType ==='new'"
            (click)="addProduct()">
            <span>CREAR</span>
        </button>

        <button mat-raised-button class="save-product-button" [disabled]="productForm.invalid || productForm.pristine"
            *ngIf="pageType ==='edit'" (click)="saveProduct()">
            <span>GUARDAR</span>
        </button>
    </div>
    <!-- / HEADER -->


    <!-- CONTENT -->
    <div class="content p-24">


        <div class="mb-24" class="content-steper" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">

            <!-- REACTIVE FORM EXAMPLE -->


            <div class="horizontal-stepper-wrapper">

                <!-- HORIZONTAL STEPPER EXAMPLE -->
                <mat-horizontal-stepper class="mat-elevation-z4" [linear]="true">

                    <mat-step [stepControl]="productForm">

                        <form class="p-24 mr-24" fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto"
                            name="productForm" [formGroup]="productForm">

                            <ng-template matStepLabel>Información general</ng-template>



                            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

                                <mat-form-field appearance="outline" fxFlex="100">
                                    <mat-label>Nombre evento</mat-label>
                                    <input matInput placeholder="Convocatoria nombre" name="name" formControlName="name"
                                        required>
                                </mat-form-field>

                            </div>
                            <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">


                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p" fxFlex="100">
                                    <mat-label>Compañia</mat-label>
                                    <input matInput formControlName="company">
                                    <mat-icon class="mat-icon-company" matSuffix>domain</mat-icon>
                                </mat-form-field>


                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p" fxFlex="100">
                                    <mat-label>Descripción</mat-label>
                                    <textarea matInput placeholder="descripción del evento" name="description"
                                        formControlName="description" rows="5">
                                                      </textarea>
                                </mat-form-field>

                            </div>

                            <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">

                                <mat-form-field appearance="outline" floatLabel="always" fxFlex="100" class="w-100-p">

                                    <mat-label>Fecha evento</mat-label>
                                    <input matInput [matDatepicker]="picker" formControlName="date">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>

                                </mat-form-field>

                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">

                                    <mat-label>Tags</mat-label>

                                    <mat-chip-list #tagList name="tags" formControlName="tags">

                                        <mat-chip *ngFor="let tag of product.tags" [removable]="true"
                                            (removed)="product.removeTag(tag)">
                                            {{tag}}
                                            <mat-icon matChipRemove>cancel</mat-icon>
                                        </mat-chip>

                                        <input [matChipInputFor]="tagList" [matChipInputAddOnBlur]="true"
                                            (matChipInputTokenEnd)="product.addTag($event)" />

                                    </mat-chip-list>

                                </mat-form-field>

                            </div>


                        </form>


                        <button class="mr-8" mat-raised-button matStepperNext type="button" color="accent">
                            Siguiente
                        </button>


                    </mat-step>

                    <mat-step >

                        <ng-template matStepLabel>Invitados</ng-template>
                        <contacts></contacts>

                        <button class="mr-8" mat-raised-button matStepperPrevious type="button" color="default">
                            Anterior
                        </button>


                        <button class="mr-8" mat-raised-button matStepperNext type="button" color="accent">
                            Siguiente
                        </button>

                    </mat-step>

                    <mat-step >

                        <ng-template matStepLabel>Campaña</ng-template>
                      
                        <div class="dialog-content-wrapper">



                                <div fxLayout="row" class="ckeditor-content" fxLayoutAlign="start start">
                    
                    
                                    <div appearance="outline" floatLabel="always" class="w-100-p" fxFlex="100">
                    
                    
                                            <div class="container">
                                           
                                                    <email-editor ></email-editor>
                                                  </div>
                    
                                                  
                    
                                    </div>
                    
                    
                    
                                </div>

                                </div>
                        <button class="mr-8" mat-raised-button matStepperPrevious type="button" color="default">
                            Anterior
                        </button>


                        <button (click)="exportHtml()" class="mr-8" matStepperNext mat-raised-button  type="button" color="accent">
                            Siguiente
                        </button>
                    </mat-step>

                    <mat-step>

                        <ng-template matStepLabel>Done</ng-template>

                        <div class="h2 m-16" fxLayout="row" fxLayoutAlign="center center">
                           Vista de campaña resumen, finalizar y enviar convocatoria.
                        </div>

                        <button class="mr-8" mat-raised-button matStepperPrevious type="button" color="default">
                            Anterior
                        </button>


                        <button class="mr-8" mat-raised-button matStepperNext type="button" color="accent">
                            Siguiente
                        </button>

                    </mat-step>


                    <div class="mb-24" fxLayout="column" fxLayoutAlign="start" *ngIf="isCreated">

                            <button mat-button (click)="eventDelete()" color="warn">Eliminar evento
                                <mat-icon>delete_forever</mat-icon>
                            </button>
                
                        </div>

                </mat-horizontal-stepper>
                <!-- / HORIZONTAL STEPPER EXAMPLE -->

            </div>



            <!-- / REACTIVE FORM EXAMPLE -->


        </div>



    </div>




    <!-- / CONTENT -->

</div>