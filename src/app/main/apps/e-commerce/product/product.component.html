<div id="product" class="page-layout simple fullwidth" fxLayout="column">

        <!-- HEADER -->
        <div class="header accent accent-btn" fxLayout="row" fxLayoutAlign="space-between center">

            <!-- APP TITLE -->
            <div fxLayout="row" fxLayoutAlign="start center">

                <button mat-icon-button class="mr-0 mr-sm-16" [routerLink]="'/apps/e-commerce/products'">
                    <mat-icon>arrow_back</mat-icon>
                </button>

                <div class="product-image-icon mr-8 mr-sm-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
                    <img *ngIf="product.images[0]" [src]="product.images[0].url">
                    <img *ngIf="!product.images[0]" [src]="'assets/images/add_event_white.png'">
                </div>

                <div fxLayout="column" fxLayoutAlign="start start"
                     [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                    <div class="h2" *ngIf="pageType ==='edit'">
                        {{product.name}}
                    </div>
                    <div class="h2" *ngIf="pageType ==='new'">
                        Nuevo Evento
                    </div>
                    <div class="subtitle secondary-text">
                        <span>Evento Detalle</span>
                    </div>
                </div>
            </div>
            <!-- / APP TITLE -->

            <button mat-raised-button
                    class="save-product-button"
                    [disabled]="productForm.invalid"
                    *ngIf="pageType ==='new'" (click)="addProduct()">
                <span>CREAR</span>
            </button>

            <button mat-raised-button
                    class="save-product-button"
                    [disabled]="productForm.invalid || productForm.pristine"
                    *ngIf="pageType ==='edit'" (click)="saveProduct()">
                <span>GUARDAR</span>
            </button>
        </div>
        <!-- / HEADER -->


    <!-- CONTENT -->
    <div class="content p-24">    

    
            <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
    
                <!-- REACTIVE FORM EXAMPLE -->
    
                <form class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                      fxFlex="1 0 auto" name="productForm" [formGroup]="productForm">
    
                    <div class="h2 mb-24">Informaci칩n general</div>
    
                    <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
    
                            <mat-form-field appearance="outline" fxFlex="100">
                                    <mat-label>Nombre evento</mat-label>
                                    <input matInput placeholder="Convocatoria nombre"
                                           name="name"
                                           formControlName="name"
                                           required>
                                </mat-form-field>
    
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
    
     
                            <mat-form-field appearance="outline" floatLabel="always" class="w-100-p"
                            fxFlex="100">
                                    <mat-label>Compa침ia</mat-label>
                                    <input matInput formControlName="company">
                                    <mat-icon class="mat-icon" matSuffix>domain</mat-icon>
                                </mat-form-field>
    
       
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p"
                                fxFlex="100">
                                        <mat-label>Descripci칩n</mat-label>
                                        <textarea matInput placeholder="descripci칩n del evento"
                                                  name="description"
                                                  formControlName="description"
                                                  rows="5">
                                        </textarea>
                                    </mat-form-field>
    
                    </div>
    
                    <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
    
                            <mat-form-field appearance="outline" floatLabel="always" 
                            fxFlex="100"
                            class="w-100-p">
    
                                    <mat-label>Fecha evento</mat-label>
                                            <input matInput [matDatepicker]="picker" formControlName="date">
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker></mat-datepicker>

                                </mat-form-field>
    
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
    
                                        <mat-label>Tags</mat-label>
    
                                        <mat-chip-list #tagList name="tags" formControlName="tags">
    
                                            <mat-chip *ngFor="let tag of product.tags"
                                                      [removable]="true" (removed)="product.removeTag(tag)">
                                                {{tag}}
                                                <mat-icon matChipRemove>cancel</mat-icon>
                                            </mat-chip>
    
                                            <input [matChipInputFor]="tagList"
                                                   [matChipInputAddOnBlur]="true"
                                                   (matChipInputTokenEnd)="product.addTag($event)"/>
    
                                        </mat-chip-list>
    
                                    </mat-form-field>
    
                    </div>
    
    
                </form>

    
                <!-- / REACTIVE FORM EXAMPLE -->
    
                <div class="mat-card form-errors-model p-24 mat-elevation-z4">
                    <div class="h2 mb-24"></div>

                    <div class="inv-card">
                            <div class="p-16">
                                    <div class="h2">Imagen</div>
                                    <!--
                                    <div class="h4 secondary-text">Mon, 12:30 PM, Mostly Sunny</div>
                                    -->
                                </div>

                    <div *ngIf="!fileUp && !loadingFile"
                    class="product-image" fxlayout="row" fxLayoutAlign="center center">
                   <img class="media company-img"
                        [src]="'assets/images/notfound.png'">
               </div>

               <div *ngIf="loadingFile"
               class="product-image" fxlayout="row" fxLayoutAlign="center center">
               <div class="company-img">

               </div>
               <mat-spinner></mat-spinner>
          </div>

               <div *ngIf="fileUp && !loadingFile"
               class="product-image" fxlayout="row" fxLayoutAlign="center center">
              <img class="media company-img"
                   [src]="fileUp.link">
          </div>

               <div class="p-8 pt-0" fxLayout="row" fxLayoutAlign="start center">
                    <input hidden id="fileUpload" type="file" #fileInput/>
                    <button  mat-button
                        (click)="fileUpload()"
                        color="accent">Subir nueva
                        <mat-icon>add_photo_alternate</mat-icon></button>
                </div>
                    </div>    
        <br>
               <div class="inv-card">
            
                    <div class="p-16">
                        <div class="h2">Invitados</div>
                        <!--
                        <div class="h4 secondary-text">Mon, 12:30 PM, Mostly Sunny</div>
                        -->
                    </div>

                    <div class="p-16 pt-0" fxLayout="row" fxLayoutAlign="space-between center">
                        <div class="count"  fxLayout="row" fxLayoutAlign="center center">
                            <span class="font-weight-300 font-size-72 line-height-72">{{ _contactsService.contacts.length }}</span>
                            <span
                                class="font-weight-300 font-size-48 line-height-48 ml-8 mt-4"></span>
                            <span
                                class="font-weight-300 font-size-48 line-height-48 mt-4"></span>
                        </div>

                    </div>


    

                    <div class="p-16 pt-4">
                        <div class="mb-12" fxLayout="row" fxLayoutAlign="space-between center">
                            <div>Confirmaron</div>
                            <div fxLayout="row" fxLayoutAlign="start center">
                                <mat-icon 
                                    class="icon s-16 mr-16">check_circle</mat-icon>
                                <div class="secondary-text">1</div>
                            </div>
                        </div>

                        <div class="mb-12" fxLayout="row" fxLayoutAlign="space-between center">
                            <div>Rechazaron</div>
                            <div fxLayout="row" fxLayoutAlign="start center">
                                <mat-icon 
                                    class="icon s-16 mr-16">cancel</mat-icon>
                                <div class="secondary-text">1</div>

                            </div>
                        </div>

                        <div class="mb-12" fxLayout="row" fxLayoutAlign="space-between center">
                            <div>Pendientes</div>
                            <div fxLayout="row" fxLayoutAlign="start center">
                                <mat-icon
                                    class="icon s-16 mr-16">hourglass_empty</mat-icon>
                                <div class="secondary-text">0</div>
                            </div>
                        </div>

                    </div>



                    <div class="p-8 pt-0" fxLayout="row" fxLayoutAlign="start center">
                            <button  
                            [disabled]="!isCreated"
                            (click)="openContacts()"
                            mat-button color="accent">
                            Ver lista    
                            <mat-icon>person_add</mat-icon></button>
                        </div>

                </div>

                    
                </div>


    
            </div>
  
            <div class="mb-24" fxLayout="column" fxLayoutAlign="start" >

                    <button  mat-button
                    (click)="eventDelete()"
                    color="warn">Eliminar evento
                    <mat-icon>delete_forever</mat-icon>
                </button>
                
         </div>

        </div>




        <!-- / CONTENT -->

</div>


